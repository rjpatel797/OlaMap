 <script src="js/Report.js"></script>
          <div class="box box-default" >
        <div class="box-header with-border" style="background-color: #3C8DBC;">

 <h3 class="box-title" style="color: #ffffff;"><b>Speedwise Distance Travel Report</b></h3>
  <div class="box-tools pull-right">
            <button type="button" class="btn-tools" data-widget="collapse"><i class="fa fa-minus"></i></button>
          </div>
           </div>
           <div class="box-body">
 <div class="row">     
        <div class="col-xs-6">
        <label>Date:</label>
                  <input type="text" class="form-control pull-right" id="reservationtime"/>
        </div>
         <div class="col-xs-6">
         <label for="deviceId">Device:</label><br/>
        <div id="Getdevice"></div>
          </div>
        </div>
         <div class="row" style="margin-top: 4%;">
        <div class="col-xs-3 col-xs-offset-3">
        <input class="btn btn-success btn-sm" type="button" name="Submit" value="Submit" onclick="submit()" />
        </div>
        <div class="col-xs-3">
        <input class="btn btn-sm" type="button" name="reset" value="Reset" onclick="reset()" />
        </div>
        </div>
	 </div>
        </div>
     <input type="hidden" id="reportname" name="reportname" value="Speedwise Distance Travelled Report" />
     <div>

  <!-- Nav tabs -->
  <ul class="nav nav-tabs" role="tablist">
   <li role="presentation" class="active"><a href="#Gridview" aria-controls="Gridview" role="tab" data-toggle="tab" onclick="Gridview()">Grid view</a></li>
    <li role="presentation" ><a href="#Listview" aria-controls="Listview" role="tab" data-toggle="tab" onclick="listview()">List view</a></li> 
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
   <div role="tabpanel" class="tab-pane active" id="Gridview" style="margin-top: 5%;">
   <div  id="SpeedwiseReportgirdview" style="text-align: center">
  </div>
    <div role="tabpanel" class="tab-pane " id="Listview" ><div  id="SpeedwiseReportlistview" style="text-align: center"> </div></div>
  </div>

</div>
    <script type="text/javascript">
        //alert($("#deviceId").val());
        var msgcont=new Array();
        var pdfstring="";
        var endDateTextBox="";
        var startDateTextBox="";
        var json="";
     
        function submit()
        {
           // alert("insubmit");
              var reservationtime= $("#reservationtime").val();
            var startd=reservationtime +" "+"00:00";
            var endd=reservationtime +" "+"23:59";
            var device=  $("#deviceId").val();
            
          
            if(reservationtime=="" || reservationtime==null)
            {
                alert("Please Select  Date rang");
                        
            }
            else if(device=="" || device==null)
            {
            	alert("Please Select at least one device name");
            }
            else
            	{
                    	   var dataarray = new Array();
                        		  var url=API+"Jsoncontroller?";
                        	      var query="Operation=getspeedwisesummaryReport&did="+device+"&fromdate="+startd+"&todate="+endd;
                        		//alert(url+query);
                        	      $.ajax({
                        	          type: "POST",
                        	          url: url+query,
                        	          dataType: "jsonp",
                        	          success: function(msg2) {
                        	        	//  alert(msg2);
                        	        	  json= eval(msg2);
                        	        	//  alert(json[0]);
                        	        	  Gridview();
                        	          }
                        	      });
  
            }
                
        }
        function listview()
        {
        	  $("#SpeedwiseReportgirdview").html('');
        	var tablebody="";
      	  var tableheader = '<table id="expiryreport" class="table table-striped" style="border-color:#3C8DBC;"><thead style="background-color:#3C8DBC; color:white;"><tr><th>No.</th><th>Device Name</th>' +
            '<th>5-20 </th><th>21-40</th><th>41-60</th><th>61-80</th><th>81-100</th><th>101-120</th><th>121-140</th><th>141-160</th><th>Total Distant(Km)</th></tr></thead><tbody>';
            for (var i = 0; i < json.length; i++)
            {
          	  tablebody += '<tr><b><td>'+(i+1)+'</td><td>' + json[i].devicename + '</td><td>' + json[i].twenty + '</td>'
                + '<td>'+json[i].fourty+'</td><td>' + json[i].sixty +'</td><td>' + json[i].eighty +'</td><td>' + json[i].hundred +'</td><td>' + json[i].onetwenty +'</td><td>' + json[i].onefourty +'</td><td>' + json[i].onesixty +'</td><td>' + json[i].distant + '</td></tr>';
            }
          //  alert(tableheader+tablebody);
          
            $("#SpeedwiseReportlistview").html(tableheader+tablebody+ "</tbody></table>");
            initdtforreport();
        }
        function Gridview()
        {
        	$("#SpeedwiseReportlistview").html('');
         	var divbody="";
      	  var initdiv = '';
      	  var closediv='';
            for (var i = 0; i < json.length; i++)
            {
          	  divbody += '<div class="box box-success"><div id="box-header with-border"><div class="box-body"><div class="row"><div class="col-xs-6" style="text-align: center;"><h3 style="text-align: center;">'+ json[i].devicename+'</h3></div><div class="col-xs-6" style="text-align: center;"><h3 style="text-align: center;">'+ json[i].distant+' Km</h3></div></div><div class="col-xs-3" style="text-align: center;"><label>5-20</label><br/><img src="androimage/spone.png" width="35" ><br/><label>' +json[i].twenty.replace(" Hrs ", ":").replace(" Mins", "")+ '</label></div><div class="col-xs-3" style="text-align: center;"><label >21-40</label><br/><img src="androimage/sptwo.png" width="35"><br/><label>'
                +json[i].fourty.replace(" Hrs ", ":").replace(" Mins", "")+'</label></div><div class="col-xs-3" style="text-align: center;"><label>41-60</label><br/><img src="androimage/spthree.png" width="35"><br/><label>' +json[i].sixty.replace(" Hrs ", ":").replace(" Mins", "")+ '</label></div><div class="col-xs-3" style="text-align: center;"><label >61-80</label><br/><img src="androimage/spfour.png" width="35"><br/><label>'
                +json[i].eighty.replace(" Hrs ", ":").replace(" Mins", "")+'</label></div><div class="col-xs-3" style="text-align: center;"><label>81-100</label><br/><img src="androimage/spfive.png" width="35"><br/><label>' +json[i].hundred.replace(" Hrs ", ":").replace(" Mins", "")+ '</label></div><div class="col-xs-3" style="text-align: center;"><label >101-120</label><br/><img src="androimage/spsix.png" width="35"><br/><label>'
                +json[i].onetwenty.replace(" Hrs ", ":").replace(" Mins", "")+'</label></div><div class="col-xs-3" style="text-align: center;"><label>121-140</label><br/><img src="androimage/spseven.png" width="35"><br/><label>' +json[i].onefourty.replace(" Hrs ", ":").replace(" Mins", "")+ '</label></div><div class="col-xs-3" style="text-align: center;"><label >141-160</label><br/><img src="androimage/speight.png" width="35"><br/><label>'
                +json[i].onesixty.replace(" Hrs ", ":").replace(" Mins", "")+'</label></div></div></div></div>';
            }
          //  alert(tableheader+tablebody);
          
            $("#SpeedwiseReportgirdview").html(initdiv+divbody+closediv);
           // initdtforreport(); 
        }

        function exchangeTime(msecond) {
    
            var dd,hh,mm,ss;
            var strtip = "";
            if(msecond!=0)
            {
                dd = Math.round(msecond / 86400 + 0.5) - 1;
                hh = Math.round((msecond - dd * 86400) / 3600 + 0.5) - 1;
                mm = Math.round((msecond - dd * 86400 - hh * 3600) / 60 + 0.5) - 1;
                ss = Math.round(msecond - dd * 86400 - hh * 3600 - mm * 60);
    
                if (dd > 0)
                    strtip = strtip + dd + "  day ";
                if (hh > 0)
                    strtip = strtip + hh + "  hour ";
                if (mm > 0){
                    strtip = strtip + mm + "  mins ";
                    if(dd > 0)
                        return strtip;
                }
            }
            else
            {
                strtip="0";  
            }
            // if (ss > 0)
            //    strtip = strtip + ss + " secs";
            return strtip;
        }
        
        function roundNumber(num, dec) 
        {
            var result = Math.round(num*Math.pow(10,dec))/Math.pow(10,dec);
            return result;
        }

 



    </script>

    